buildscript {
    ext.kotlin_version = '1.2.50'
    ext {
        versions = [
                'constraint_layout': '1.1.2',  // https://mvnrepository.com/artifact/com.android.support.constraint/constraint-layout
                'dagger'           : '2.16',   // https://mvnrepository.com/artifact/com.google.dagger/dagger
                'espresso'         : '3.0.2',  // https://mvnrepository.com/artifact/com.android.support.test.espresso/espresso-core
                'glide'            : '4.7.1',  // https://mvnrepository.com/artifact/com.github.bumptech.glide/glide
                'gradle'           : '3.1.3',  // https://mvnrepository.com/artifact/com.android.tools.build/gradle?repo=google
                'gson'             : '2.8.5',  // https://mvnrepository.com/artifact/com.google.code.gson/gson
                'junit'            : '4.12',   // https://mvnrepository.com/artifact/junit/junit
                'kotlin'           : '1.2.50', // https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-stdlib
                'mosby'            : '3.1.0',  // https://mvnrepository.com/artifact/com.hannesdorfmann.mosby3/mvp-conductor
                'okhttp_logging_interceptor': '3.11.0', // https://mvnrepository.com/artifact/com.squareup.okhttp3/logging-interceptor
                'retrofit'         : '2.4.0',  // https://mvnrepository.com/artifact/com.squareup.retrofit2/retrofit
                'room'             : '1.1.1',  // https://mvnrepository.com/artifact/android.arch.persistence.room/runtime
                'rx_android'       : '2.0.2',  // https://mvnrepository.com/artifact/io.reactivex.rxjava2/rxandroid
                'rx_java'          : '2.1.16', // https://mvnrepository.com/artifact/io.reactivex.rxjava2/rxjava
                'rx_kotlin'        : '2.2.0',  // https://mvnrepository.com/artifact/io.reactivex.rxjava2/rxkotlin
                'support_library'  : '28.0.0-alpha3', // https://mvnrepository.com/artifact/com.android.support/appcompat-v7
                'store'            : '3.1.0',  // https://mvnrepository.com/artifact/com.nytimes.android/store3
                'test_runner'      : '1.0.2',  // https://mvnrepository.com/artifact/com.android.support.test/runner
                'three_ten'        : '1.1.0',  // https://mvnrepository.com/artifact/com.jakewharton.threetenabp/threetenabp
                'timber'           : '4.7.1',  // https://mvnrepository.com/artifact/com.jakewharton.timber/timber
                'slf4j_api'        : '1.7.25', // https://mvnrepository.com/artifact/org.slf4j/slf4j-api
                'slf4j_timber'     : '1.0.1'   // https://mvnrepository.com/artifact/at.favre.lib/slf4j-timber
        ]
        libs = [
                'constraint_layout'        : "com.android.support.constraint:constraint-layout:${versions.constraint_layout}",
                'dagger'                   : "com.google.dagger:dagger:${versions.dagger}",
                'dagger_android'           : "com.google.dagger:dagger-android:${versions.dagger}",
                'dagger_android_support'   : "com.google.dagger:dagger-android-support:${versions.dagger}",
                'dagger_compiler'          : "com.google.dagger:dagger-compiler:${versions.dagger}",
                'dagger_android_processor' : "com.google.dagger:dagger-android-processor:${versions.dagger}",
                'espresso'                 : "com.android.support.test.espresso:espresso-core:${versions.espresso}",
                'glide'                    : "com.github.bumptech.glide:glide:${versions.glide}",
                'glide_compiler'           : "com.github.bumptech.glide:compiler:${versions.glide}",
                'gradle'                   : "com.android.tools.build:gradle:${versions.gradle}",
                'gson'                     : "com.google.code.gson:gson:${versions.gson}",
                'junit'                    : "junit:junit:${versions.junit}",
                'kotlin'                   : "org.jetbrains.kotlin:kotlin-stdlib-jdk8:${versions.kotlin}",
                'kotlin_android_extensions': "org.jetbrains.kotlin:kotlin-android-extensions:${versions.kotlin}",
                'kotlin_gradle_plugin'     : "org.jetbrains.kotlin:kotlin-gradle-plugin:${versions.kotlin}",
                'mosby'                    : "com.hannesdorfmann.mosby3:mvp-conductor:${versions.mosby}",
                'okhttp_logging_interceptor': "com.squareup.okhttp3:logging-interceptor:${versions.okhttp_logging_interceptor}",
                'retrofit'                 : "com.squareup.retrofit2:retrofit:${versions.retrofit}",
                'retrofit_gson_converter'  : "com.squareup.retrofit2:converter-gson:${versions.retrofit}",
                'retrofit_rxjava_adapter'  : "com.squareup.retrofit2:adapter-rxjava2:${versions.retrofit}",
                'room_runtime'             : "android.arch.persistence.room:runtime:${versions.room}",
                'room_rxjava'              : "android.arch.persistence.room:rxjava2:${versions.room}",
                'room_common'              : "android.arch.persistence.room:common:${versions.room}",
                'room_compiler'            : "android.arch.persistence.room:compiler:${versions.room}",
                'rx_android'               : "io.reactivex.rxjava2:rxandroid:${versions.rx_android}",
                'rx_java'                  : "io.reactivex.rxjava2:rxjava:${versions.rx_java}",
                'rx_kotlin'                : "io.reactivex.rxjava2:rxkotlin:${versions.rx_kotlin}",
                'support_appcompat'        : "com.android.support:appcompat-v7:${versions.support_library}",
                'support_constraint'       : "com.android.support.constraint:constraint-layout:${versions.constraint_layout}",
                'support_design'           : "com.android.support:design:${versions.support_library}",
                'store'                    : "com.nytimes.android:store3:${versions.store}",
                'test_runner'              : "com.android.support.test:runner:${versions.test_runner}",
                'three_ten'                : "com.jakewharton.threetenabp:threetenabp:${versions.three_ten}",
                'timber'                   : "com.jakewharton.timber:timber:${versions.timber}",
                'slf4j_api'                : "org.slf4j:slf4j-api:${versions.slf4j_api}",
                'slf4j_timber'             : "at.favre.lib:slf4j-timber:${versions.slf4j_timber}"
        ]
    }
    repositories {
        jcenter()
        maven { url 'https://maven.fabric.io/public' }
        google()
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:3.1.4'
        classpath 'io.fabric.tools:gradle:1.25.1'
        classpath libs.kotlin_android_extensions
        classpath libs.kotlin_gradle_plugin
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
    }
    subprojects {
        project.configurations.all {
            resolutionStrategy.eachDependency { details ->
                if (details.requested.group == 'android.arch.persistence.room'
                        && !details.requested.name.contains('multidex')) {
                    details.useVersion "1.1.1"
                }
            }
        }
    }
}

allprojects {

    repositories {
        jcenter()
        maven { url 'https://maven.google.com' }
        maven { url 'https://jitpack.io' }
        google()
    }

    tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {
        kotlinOptions {
            jvmTarget = "1.8"
        }
    }

}

task clean(type: Delete) {
    delete rootProject.buildDir
}

ext {
    apacheCommonsVersion = '3.6'
    androidSupportVersion = '27.0.2'
    androidSupportConstraintVersion = '1.1.0-beta4'
    androidGMSVersion = '11.8.0'
    daggerVersion = '2.14.1'
    guavaVersion = '23.6-android'
    mosbyVersion = '3.1.0'
    okhttpVersion = '3.9.1'
    retrofitVersion = '2.3.0'
    roomVersion = '1.0.0'
    rxAndroidVersion = '2.0.1'
    rxJava2Version = '2.1.7'
    rxLocationVersion = '2.1@aar'
    rxPermissionsVersion = '0.9.4@aar'
    simpleXmlVersion = '2.3.0'
    twitterVersion = '3.1.1'
    junitVersion = '4.12'
    espressoTestRunnerVersion = '3.0.1'
    testRunnerVersion = '1.0.1'
}
